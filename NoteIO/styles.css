body {
	color: #444;
	font: 80% / 1.65 Verdana, "Geneva CE", lucida, 'Microsoft YaHei', sans-serif;
	padding: 20px;
	background: #f5f5f5;
	display: flex;
	margin: 0;
}

        /* 左侧页签栏 */
.sidebar {
	background: #fff;
	border-right: 1px solid #ddd;
	padding: 10px;
	max-height: 500px;
	overflow-y: auto;
	right: 20px;
	top: 20px;
	width: 250px;
	max-height: 500px;
	overflow-y: auto;
	display: flex;
	flex-direction: column;
	padding: 10px;
	box-shadow: 0 0.5em 1em -0.125em #090a0c1a, 0 0px 0 1px #090a0c05;
	border-radius: 9px;
	transition: all 0.3s ease;
}

.sidebar.hidden {
	transform: translateX(-100%);
	opacity: 0;
	width: 0;
	padding: 0;
	border: none;
}

.page-tab {
	padding: 8px 12px;
	margin-bottom: 5px;
	cursor: pointer;
	border-radius: 4px;
	background: #f0f0f0;
	position: relative;
	display: flex;
	justify-content: space-between;
	align-items: center;
}

.page-tab.active {
	background: #e0e0e0;
	font-weight: bold;
}

.page-tab-name {
	flex: 1;
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
}

.page-tab-input {
	flex: 1;
	padding: 5px;
	box-sizing: border-box;
	border: 1px solid #ccc;
	border-radius: 3px;
	font-family: inherit;
	font-size: inherit;
	width: 100%;
}

.page-tab-delete {
	margin-left: 8px;
	color: #999;
	font-size: 12px;
	padding: 2px 5px;
	border-radius: 3px;
}

.page-tab-delete:hover {
	background: #ffcccc;
	color: #ff0000;
}

.add-page {
	padding: 8px 12px;
	margin-top: 10px;
	cursor: pointer;
	color: #666;
	text-align: center;
	border: 1px dashed #ccc;
	border-radius: 4px;
}

.add-page:hover {
	background: #f0f0f0;
}

        /* 右侧内容区 */
.wrapper {
	flex: 1;
	padding: 0 20px;
	height: calc(100vh - 40px);
	overflow-y: auto;
	transition: margin-left 0.3s ease;
}
        
        /* 瀑布流布局 */
.aside {
	min-height: 100px;
	column-width: 278px;
	column-gap: 15px;
}

.note {
	padding-top: 38px;
	position: relative;
	background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARYAAAAmCAMAAAA2nkRkAAACW1BMVEX////j4+MAAADj4+MAAADj4+MAAADj4+MAAADj4+MAAADj4+OBgYHj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+PExMTj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pd3d3j4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pf39/j4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+P////+/v79/f38/Pz7+/v6+vr5+fn4+Pj39/f29vb19fX09PTz8/Py8vLx8fHw8PDv7+/u7u7t7e3s7Ozr6+vq6urp6eno6Ojn5+fm5ubl5eXk5OTj4+Pf39/9/f329vb//ff//fb+/fb+/fX9/PX9/PT++/T8+/P/++r9+vL9+vH8+vH++un8+fH7+fD7+e/9+ej7+O/8+Oj8+Of69+769+379+f79+b59uz49uz69ub69uX49ev59eX59eT49Or39On39Oj49OT49OP38+j28+j28+f38+P38+L18ub28uL28uH18eX08eX08eT18eH18eD18OPy8Or18ODz8OLx7+n079/z7+Hz7+Dy7+Lz797z793x7+Dy7t/y7t3y7tzw7t7x7d3u7eTx7dzw7N3w7Nzw7Nvw7Nrv69vv69re2svZ1cbRzb/Py70cxmzUAAAAe3RSTlMAAAABAQICAwMEBAUFBwgKCwwODxEREhYXGh4fIyQlKCssLTEyNTY6Pj9CQ0RJTU5SVldbXF9hZGZmaWprbm9zdnd5ent8fX+AgoOFh4iLjI2Oj5CSk5SVlpeYmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmpqALU/hAAACKUlEQVR42u2Yz2sTURDHZ+b7NkmNmEJUcqi1VtCDvXjxqCAo+EerIHry5MWLiigVwf6y/ghJ3o/xEEwqYky7TtKHbw67vN1lmPnsd9/MLNOijP/+SKsSQFhEwGABCwtDABYHiMBhffLw02eGwbpFUWk2II6FBQwRhrCwiDgRdgDYibuspEqqquPTdDW9sP0Tsn9FuWK5Rx5OIAA2pkmS/pryZL19HO15ny2WD+1b/ROkPI+lte6BYeSwxLJz2FxJSVUNfH9/2c9VLZ2zA7MNXHctIxfT4nOlZ6XG9JGyxfL1PdQIeHqTL5bGpjPCop1etbxKVBNaaLSHySbu/tqnmsUtnbwScc13GoeNpo1edJXe1fQwUy1uliLkzzfDXBX6W7rDRrvLvqv1MaRZaklsOVkQkfQ/2/RbvaSme8sjSyoXtozc4/5jw7Dviq1YNq3EGHe62RZo6p75YuV6r5MtFnf1uZXr9qW9bLGE1zcfGLm+vXuY70e0/4KM6jOdb+WLhcy2lofNQcZYNsiouxj5jNVycf1fty0MV1XNlfa5t9eWNyrW7y6Gx+rRmEmEMf7zD0cVAwJUqWJyYAITJdUUlALni4V6R8arccoMjA9OAHaoEle/pUyBIkX1SUfkI2mkoInCnJPYacfSukFHCnTURJ6iTlJOI/Vp8SkvHcvgCWVqQsUKloKlYClYCpaCpWApWAqWguW/MHfK4+tcpxBi9MEPQ4gUFjRP/gCaEN+yI3PiHAAAAABJRU5ErkJggg==) top center no-repeat;
	transition: all 0.3s ease;
	width: 278px;
	break-inside: avoid;
	margin-bottom: 15px;
}

.note.pinned {

}

.note-container {
	padding: 1px 20px 0;
	background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARYAAAAVBAMAAABxgNxmAAAAGFBMVEX/++r18eDY1MXX08XW0sTV0cPV0cLU0MENij9rAAAAW0lEQVR4Ac3BQRHDMBAEMM1cbL9bBCkDQwgEQzgI5f8KjZX8Pim+jhRDS7G0FMMtRbmlGI4US0uxbCmGR4qppbgcKcqR4rKlGI4U01+KsqWYthSlpSiPFEtLUS8FyQ9uCvw0rgAAAABJRU5ErkJggg==) top center repeat-y;
	overflow: hidden;
	word-break: break-word;
	white-space: pre-wrap;
	box-sizing: border-box;
	min-height: 50px;
	outline: none;
	width: 100%;
}

.note.pinned .note-container {

}

.note-container::selection {
	background: rgba(0, 120, 215, 0.3);
	color: inherit;
}

.note-bottom {
	height: 34px;
	background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARYAAAAjCAMAAABmU9XXAAAA21BMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/++r18eDe2svd2crc2Mnb18nb18jY1MXX08XW0sTV0cPV0cLU0MHTz8HSzsDRzb/QzL7PzL7Oy73OyrzNybvMyLrLx7rKxrnJxrjIxbfIxLbIw7bHwrXGwbTFwLPDwLKO3PerAAAAKXRSTlMAAAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHh8gISIjJCUmJ8OxrOcAAAFySURBVHja7dnBdoMgEAXQ90A3/ZX+/89VmNeFqQ5Iok1PF01nDkcQSMzcA2YB34WIPjghWAYsKQxGESzBEizBEizBEizBEizBEizBEiwRwRIswRIswRIswRIsfzQmJKTEeZ5zJoS1+Etb3Yo7RvEHKuO2nP74cwDorr4qF+a4AQ7GuF1uZetpeyFblo/FTOBbTkxTnnNeR1qKo0mXUZdcf+ikJqF7s9DP4l7XC3MOz2j6dhKiK20TsFqWUqrVaamJ2SbL4Ncy6D2aMrJ5nLAOLOOZHDbtwpyHRgeIA8Z+I7OlFLPKRKaUcua2hRyO3zJPkTwdvPCtfHDb+bn0XXXYYJDVUk02CYKkum0h7+AodDl33Z7Q/spR7zBXtQnqwpwzsv411DT8CgJkZiaRBJkIbgTqEfRbS+Lc9zT9S+touNHa1/SmJTNJJMhV7P6qeIXTe97p6JEkCSL39UPh1TC+iwSufzTk+VZ+9SCg/24Q8YP4BFGOtF1URHqaAAAAAElFTkSuQmCC) bottom center no-repeat;
	width: 100%;
	position: relative;
}

.note.pinned .note-bottom {

}

.note-date {
	position: absolute;
	right: 20px;
	bottom: 15px;
	font-size: 12px;
	color: #999;
	user-select: none;
	-webkit-user-select: none;
	-moz-user-select: none;
	-ms-user-select: none;
}

/* 置顶图标 */
.pin-icon {
    position: absolute;
    top: 17px;
    right: 7px;
    width: 18px;
    height: 18px;
    z-index: 10;
    background: url('data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQEAAAHIAAAAAAQwAABtbnRyUkdCIFhZWiAH4AABAAEAAAAAAABhY3NwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAA9tYAAQAAAADTLQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlkZXNjAAAA8AAAACRyWFlaAAABFAAAABRnWFlaAAABKAAAABRiWFlaAAABPAAAABR3dHB0AAABUAAAABRyVFJDAAABZAAAAChnVFJDAAABZAAAAChiVFJDAAABZAAAAChjcHJ0AAABjAAAADxtbHVjAAAAAAAAAAEAAAAMZW5VUwAAAAgAAAAcAHMAUgBHAEJYWVogAAAAAAAAb6IAADj1AAADkFhZWiAAAAAAAABimQAAt4UAABjaWFlaIAAAAAAAACSgAAAPhAAAts9YWVogAAAAAAAA9tYAAQAAAADTLXBhcmEAAAAAAAQAAAACZmYAAPKnAAANWQAAE9AAAApbAAAAAAAAAABtbHVjAAAAAAAAAAEAAAAMZW5VUwAAACAAAAAcAEcAbwBvAGcAbABlACAASQBuAGMALgAgADIAMAAxADb/2wBDAAUDBAQEAwUEBAQFBQUGBwwIBwcHBw8LCwkMEQ8SEhEPERETFhwXExQaFRERGCEYGh0dHx8fExciJCIeJBweHx7/2wBDAQUFBQcGBw4ICA4eFBEUHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh7/wAARCAAUABQDASIAAhEBAxEB/8QAGQABAQEAAwAAAAAAAAAAAAAAAAQFAgYI/8QAKxAAAQQCAQIDCAMAAAAAAAAAAQIDBBEABSESEwYUMSIkMkFRYXGCYoHB/8QAFwEBAQEBAAAAAAAAAAAAAAAABQQDBv/EACMRAAEEAQMEAwAAAAAAAAAAAAEAAgMRMQQhQVFhgfBxocH/2gAMAwEAAhEDEQA/APVO82jndkpTMECBD9l+QkJLjrhTfabvgGiOaJs0PQ5karZpflBnXbPZxZakhTaNm6l1p5V8o9SQfwR/dVnPdsHyG113eSiSzO862FtlXdQs2kCv5Epvmq54OSQo+xVu4B2EIamO04Xx1pBSspFn4VEA1fJIqhWDySPMnvWs8fvddLDDEITj63oA3XN+aHRd21E0bCAiR2y0uyh1omy2tJIUk/gg4yLwonqhyZo6g3OlOSGgRRCDQSa+4SFftjFIXFzASgNQxrJXNbj3bwrdjros8IMhCg40SWnW1lDjZPr0qHI/355Ejw/HUffps/YtgghqS9bdj6pSAFfteMZhM1plaKzlV6eRw07yDiq7fC2MYxlaOX//2Q==') no-repeat center center;
    background-size: contain;
    cursor: pointer;
    opacity: 0.7;
    transition: opacity 0.2s;
}

.pin-icon:hover {
    opacity: 1;
}

.context-menu {
	position: fixed;
	z-index: 1000;
	background: white;
	border: 1px solid #ddd;
	box-shadow: 0 2px 10px rgba(0,0,0,0.2);
	display: none;
	width: 150px; 
}

.context-menu-item {
	padding: 8px 15px;
	cursor: pointer;
	font-size: 14px;
}

.context-menu-item:hover {
	background: #f0f0f0;
}

.empty-message {
	text-align: center;
	color: #999;
	padding: 20px;
	font-style: italic;
	column-span: all;
}

/* 侧边栏切换按钮 */
.toggle-sidebar {
	position: fixed;
	left: 0px;
	top: 0px;
	z-index: 100;
	background: #fff;
	border: 1px solid #ddd;
	border-radius: 4px;
	box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
	padding: 5px 13px;
	cursor: pointer;
	font-size: 14px;
}

.tool-buttons {
	position: fixed;
	left: 10px;
	bottom: 10px;
	z-index: 100;
	background: #fff;
	border: 1px solid #ddd;
	border-radius: 4px;
	padding: 5px;
	display: flex;
	flex-direction: column;
	gap: 5px;
	box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

.tool-button {
	padding: 5px 10px;
	cursor: pointer;
	font-size: 14px;
	border-radius: 3px;
	border: none;
	background: #f5f5f5;
}

.tool-button:hover {
	background: #e0e0e0;
}

.file-input {
	display: none;
}

/* Dropbox 按钮样式 */
.tool-button.dropbox {
	background: #0061ff;
	color: white;
}

.tool-button.dropbox:hover {
	background: #004ac7;
}

/* 状态提示 */
.status-toast {
	position: fixed;
	bottom: 60px;
	left: 50%;
	transform: translateX(-50%);
	background: rgba(0, 0, 0, 0.7);
	color: white;
	padding: 10px 20px;
	border-radius: 4px;
	z-index: 1000;
	opacity: 0;
	transition: opacity 0.3s;
}

.status-toast.show {
	opacity: 1;
}

/* 认证模态框 */
.auth-modal {
	display: none;
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	background: rgba(0, 0, 0, 0.5);
	z-index: 1001; /* 高于其他元素 */
	justify-content: center;
	align-items: center;
}

.auth-modal-content {
	background: white;
	padding: 20px;
	border-radius: 8px;
	width: 400px;
	max-width: 90%;
}

.auth-modal h3 {
	margin-top: 0;
}

.auth-form {
	display: flex;
	flex-direction: column;
	gap: 10px;
	margin: 15px 0;
}

.auth-form input {
	padding: 8px;
	border: 1px solid #ddd;
	border-radius: 4px;
}

.auth-form button {
	padding: 10px;
	background: #0061ff;
	color: white;
	border: none;
	border-radius: 4px;
	cursor: pointer;
}

.auth-form button:hover {
	background: #004ac7;
}

.auth-modal-close {
	background: #f0f0f0;
	color: #333;
	padding: 8px 15px;
	border: none;
	border-radius: 4px;
	cursor: pointer;
}

.auth-modal-close:hover {
	background: #e0e0e0;
}

/* 授权码输入区域 */
.code-input-section {
    background: #f9f9f9;
    padding: 15px;
    border-radius: 5px;
    margin-top: 15px;
}

.code-input-section h4 {
    margin-top: 0;
    margin-bottom: 10px;
    color: #0061ff;
}

.code-input {
    width: 100%;
    padding: 8px;
    border: 1px solid #ddd;
    border-radius: 4px;
    margin-bottom: 10px;
    box-sizing: border-box;
}

.submit-code {
    padding: 8px 15px;
    background: #0061ff;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}

.submit-code:hover {
    background: #004ac7;
}

/* Dropbox 状态指示 */
.dropbox-status {
    margin-top: 10px;
    padding: 8px;
    border-radius: 4px;
    font-size: 12px;
    display: none;
}

.dropbox-status.connected {
    display: block;
    background: #e6f7ee;
    color: #0a7b4c;
    border: 1px solid #0a7b4c;
}

.dropbox-status.disconnected {
    display: block;
    background: #fef5f5;
    color: #cf2222;
    border: 1px solid #cf2222;
}

/* 移动设备样式 */
@media (max-width: 800px) {
	body {
		flex-direction: column;
        padding: 10px;
	}

	.sidebar {
		width: 100%;
		height: auto;
		border-right: none;
		border-bottom: 1px solid #ddd;
        max-height: 200px;
        position: fixed;
        top: 40px;
        left: 0;
        z-index: 99;
        width: 100%;
        box-sizing: border-box;
        border-radius: 0;
	}

	.wrapper {
		height: auto;
        margin-top: 50px;
        padding: 0 10px;
	}

	.aside {
		column-width: 100%;
        column-gap: 0;
	}

	.sidebar.hidden {
		transform: translateY(-100%);
		height: 0;
        padding: 0;
	}
    
    /* 移动设备上移除笔记背景图片 */
    .note {
        padding-top: 15px;
        background: #fff !important;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        margin-bottom: 15px;
        width: 100%;
    }
    
    .note-container {
        background: #fff !important;
        padding: 15px;
        min-height: 40px;
    }
    
    .note-bottom {
        background: #f9f9f9 !important;
        height: 30px;
        border-bottom-left-radius: 8px;
        border-bottom-right-radius: 8px;
    }
    
    .note-date {
        right: 15px;
        bottom: 8px;
    }
    
    .tool-buttons {
        flex-direction: row;
        bottom: auto;
        top: 5px;
        right: 10px;
        left: auto;
        padding: 8px;
    }
    
    .toggle-sidebar {
        top: 5px;
        left: 10px;
        z-index: 101;
    }
    
    .pin-icon {
        top: 8px;
        right: 8px;
    }
    
    .context-menu {
        width: 130px;
        font-size: 16px; /* 增大字体便于触摸 */
    }
    
    .context-menu-item {
        padding: 12px 15px;
    }
    
    .page-tab {
        padding: 12px 15px;
        font-size: 16px;
    }
    
    .add-page {
        padding: 12px 15px;
        font-size: 16px;
    }
    
    .auth-modal-content {
        width: 90%;
        max-height: 90vh;
        overflow-y: auto;
    }
}

/* 防止移动设备上的点击延迟 */
* {
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
}